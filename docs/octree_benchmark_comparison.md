# Octree KNN ベンチマーク比較

以下の結果は、Octree の近傍候補管理を最大ヒープから昇順配列挿入へと変更する前後で、ベンチマークテスト `OctreeTest.BenchmarkOctreeAgainstKDTree` を100回平均で実行した際の計測値です。点群構成は commit `b734b61` 時点のテスト実装に従います。

| ケース | ターゲット点数 | クエリ点数 | k | 構築時間 (ms) 変更前 | 構築時間 (ms) 変更後 | 構築差分 (後-前) | 探索時間 (ms) 変更前 | 探索時間 (ms) 変更後 | 探索差分 (後-前) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | 10,000 | 1,000 | 1 | 1.885 | 2.523 | +0.638 | 1.488 | 2.826 | +1.338 |
| 1 | 10,000 | 1,000 | 10 | 1.633 | 1.818 | +0.185 | 4.181 | 6.736 | +2.555 |
| 1 | 10,000 | 1,000 | 20 | 1.606 | 2.757 | +1.151 | 6.365 | 10.575 | +4.210 |
| 1 | 10,000 | 1,000 | 30 | 2.047 | 2.457 | +0.410 | 8.595 | 16.552 | +7.957 |
| 2 | 50,000 | 5,000 | 1 | 8.099 | 11.091 | +2.992 | 10.336 | 11.522 | +1.186 |
| 2 | 50,000 | 5,000 | 10 | 8.029 | 11.412 | +3.383 | 21.279 | 32.874 | +11.595 |
| 2 | 50,000 | 5,000 | 20 | 8.419 | 12.811 | +4.392 | 29.334 | 52.601 | +23.267 |
| 2 | 50,000 | 5,000 | 30 | 8.060 | 10.012 | +1.952 | 39.855 | 82.379 | +42.524 |
| 3 | 100,000 | 10,000 | 1 | 15.114 | 21.896 | +6.782 | 20.764 | 26.401 | +5.637 |
| 3 | 100,000 | 10,000 | 10 | 17.462 | 22.669 | +5.207 | 44.474 | 67.169 | +22.695 |
| 3 | 100,000 | 10,000 | 20 | 14.828 | 22.465 | +7.637 | 67.756 | 121.790 | +54.034 |
| 3 | 100,000 | 10,000 | 30 | 15.201 | 19.518 | +4.317 | 85.769 | 188.238 | +102.469 |

- 変更前の値は、最大ヒープ管理時の計測結果（Turn 10 で取得した平均）を小数第4位で丸めています。
- 変更後の値は、昇順配列管理への変更後に同条件で再実行した結果を小数第4位で丸めています。
- 差分は「変更後 - 変更前」であり、正の値は処理時間の増加（性能悪化）を示します。
